trigger:
- main

pool:
  name: MPool
  demands:
  - ImageOverride -equals windows-2022

steps:

- script: dotnet restore
  displayName: 'Restore dependencies'

- script: dotnet build --configuration Release
  displayName: 'Build project'

- script: dotnet test --configuration Release --no-build --verbosity normal
  displayName: 'Run tests'